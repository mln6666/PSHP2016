@{
    Layout = null;
}

<hr />
<div id="ajaxBeginFormResult">
    
    <head class="no-print">
        <link rel="stylesheet" type="text/css" href="~/Scripts/jqPlot/jquery.jqplot.css" />
    </head>

    <div id="seleccion">
        <h3 class="text-center">Gráfico Estados de Planes</h3>
        <br />
        <div class="row">
            <div class="col-lg-1"></div>
            <div class="col-lg-4">
                <h4>Desde: @ViewBag.fechadesde.ToString("dd/MM/yyyy")</h4>
                <br />
                <h4>Hasta: @ViewBag.fechahasta.ToString("dd/MM/yyyy")</h4>
            </div>

            <div id="grafico2" style="width: 500px; display: inline-block">
            </div>
        </div>

        
    </div>

    <div class="no-print">
        <a class="btn btn-primary text-center" onclick="window.print('#seleccion');">
            Generar PDF
            @*<span class="glyphicon glyphicon-print"></span>*@
        </a>
    </div>

    <script language="javascript" type="text/javascript" src="~/Scripts/jqPlot/jquery.js"></script>
    <script language="javascript" type="text/javascript" src="~/Scripts/jqPlot/jquery.jqplot.js"></script>
    <script language="javascript" type="text/javascript" src="~/Scripts/jqPlot/jquery.jqplot.min.js"></script>
    <script language="javascript" type="text/javascript" src="~/Scripts/jqPlot/plugins/jqplot.pieRenderer.min.js"></script>
    <script>
        $(document).ready(function () {


            plot3 = jQuery.jqplot('grafico2',
        [[['Planes Aprobados: '+@ViewBag.planesaprobados, @ViewBag.planesaprobados], ['Planes Desaprobados: '+@ViewBag.planesdesaprobados, @ViewBag.planesdesaprobados],['Planes Rechazados: '+@ViewBag.planesrechazados, @ViewBag.planesrechazados],['Planes Pendientes: '+@ViewBag.planespendientes, @ViewBag.planespendientes]]],
        {
            title: ' ',
            seriesDefaults: {
                shadow: false,
                renderer: jQuery.jqplot.PieRenderer,
                rendererOptions: {
                    startAngle: 180,
                    sliceMargin: 4,
                    showDataLabels: true
                }
            },
            legend: { show: true, location: 'w' }
        }
      );


        });

        function printData() {
            var divToPrint = document.getElementById("seleccion");
            newWin = window.open("");
            newWin.document.write(divToPrint.outerHTML);
            newWin.print();
            newWin.close();
        }      
    </script>

</div>
