@model IEnumerable<WebApplication1.Models.Alumno>

@{
    ViewBag.Title = "Alumnos";
}

<div>
    <h1 class="text-center ">Lista de Alumnos Inscriptos</h1>
    <hr style="color:grey;border-color:grey" />
</div>

    <p>
        <div class="text-left">
            <a class="btn btn-success text-center" href="@Url.Action("Create", "Alumnos")">
                Agregar Alumno
            </a>
        </div>
    </p>
    @*<p>
            @Html.ActionLink("Agregar alumno", "Create")
        </p>*@
    <table id="mitabla" class="table table-striped table-bordered ">
        <thead>

            <tr class="text-left" style="color: #2c3e50; background-color: lightblue">
                <th class="text-left" style="border-radius: 3px">
                    @Html.DisplayNameFor(model => model.Legajo)
                </th>
                <th class="text-left" style="border-radius: 3px">
                    Apellido y Nombre
                </th>
                <th class="text-left" style="border-radius: 3px">
                    @Html.DisplayNameFor(model => model.CorreoAlu)
                </th>
                <th class="text-center" style="border-radius: 3px">
                    Acciones
                </th>
                @*<th style="background-color: whitesmoke"></th>*@
            </tr>
        </thead>
        <tbody>


            @foreach (var item in Model)
            {
                <tr>
                    <td class="text-left">
                        @Html.DisplayFor(modelItem => item.Legajo)
                    </td>
                    <td class="text-left">
                        @item.ApellidoAlu, @item.NombreAlu
                    </td>
                    <td class="text-left">
                        @Html.DisplayFor(modelItem => item.CorreoAlu)
                    </td>
                    <td class="text-center">
                        @Html.ActionLink("Detalles", "Details", new { id = item.IdAlumno }, new { @class = "btn btn-primary btn-sm", @style = "color:white;font-size:13px;line-height:inherit;border-radius:5px;font-weight: 500" })
                        @Html.ActionLink("Editar", "Edit", new { id = item.IdAlumno }, new { @class = "btn btn-primary btn-sm", @style = "color:white;font-size:13px;line-height:inherit;border-radius:5px;font-weight: 500" })
                        @Html.ActionLink("Eliminar", "Delete", new { id = item.IdAlumno }, new { @class = "btn btn-primary btn-sm", @style = "color:white;font-size:13px;line-height:inherit;border-radius:5px;font-weight: 500" })
                    </td>
                </tr>
            }
        </tbody>

    </table>

    <div class="modal fade" id="myModal1" role="dialog"
         aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title"></h4>
                </div>
                <div class="modal-body">
                    <div class="te">Espere...</div>
                </div>

            </div>

        </div>

    </div>

    @section scripts{
        <script>
            $(document).ready(function () {
                $("#mitabla").DataTable({
                    "language": {
                        "url": "/Scripts/DataTables/spanish.json"
                    }
                });
            });

            $(document).ready(function () {
                $("body").on("click", "a.dialog-window1", null, function (e) {
                    e.preventDefault();

                    var $link = $(this); // Reference to <a/> link
                    var title = $link.text(); //this is title to fetch in htnl
                    $('#myModal1 .modal-title').html(title);

                    var url = $(this).attr('href');
                    if (url.indexOf('#') == 0) {
                        $('#myModal1').modal('show');
                    }
                    else {
                        $.get(url, function (data) {
                            $('#myModal1 .te').html(data);
                            $('#myModal1').modal();
                        }).success(function () { $('input:text:visible:first').focus(); });
                    }
                });
            });
        </script>
    }
