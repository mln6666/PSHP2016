@using WebApplication1.Models
@model IEnumerable<WebApplication1.Models.PS>

@{
    ViewBag.Title = "PSs";
}

<h2 class="text-center ">Lista de PS's</h2>

<p>
    <div class="text-left">
        <a class="btn btn-success text-center btn-sm"   href="@Url.Action("Create", "PS")">
            Nueva PS
        </a>
    </div>
</p>
<table id="mitabla" class="table table-striped table-bordered">
    <thead>
    <tr class="text-center" style="color: #2c3e50; background-color: lightblue">

        <th class="text-left" style="border-radius: 3px">
            @Html.DisplayNameFor(model => model.Alumno.Legajo)
        </th>
        <th class="text-left" style="border-radius: 3px">
           Apellido y Nombre
        </th>
       <th class="text-left" style="border-radius: 3px">
            @Html.DisplayNameFor(model => model.NroDisposicion)
        </th>
        <th class="text-left" style="border-radius: 3px">
            @Html.DisplayNameFor(model => model.Area.NombreArea)
        </th>

        <th class="text-left" style="border-radius: 3px">
            @Html.DisplayNameFor(model => model.CicloLectivo)
        </th>

        <th class="text-left" style="border-radius: 3px">
            @Html.DisplayNameFor(model => model.Estado)
        </th>
        <th class="text-center" style="border-radius: 3px">Acciones</th>
    </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td class="text-left">
                    @Html.DisplayFor(modelItem => item.Alumno.Legajo)
                </td>
                <td class="text-left">
                   @item.Alumno.ApellidoAlu, @item.Alumno.NombreAlu
                </td>
                <td class="text-left">
                    @Html.DisplayFor(modelItem => item.NroDisposicion)
                </td>
                <td class="text-left">
                    @Html.DisplayFor(modelItem => item.Area.NombreArea)
                </td>

                <td class="text-left">
                    @Html.DisplayFor(modelItem => item.CicloLectivo)
                </td>

                <td class="text-left" style="font-weight: bold; font-style: italic;">
                    @Html.DisplayFor(modelItem => item.Estado)
                </td>
                <td class="text-left">



                    @*<div class="btn-group">
                        <a href="#" class="btn btn-primary btn-sm">+Plan</a>
                        <a href="#" class="btn btn-primary btn-sm dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></a>
                        <ul class="dropdown-menu" onclick="event.stopPropagation()">
                            <li>
                                @if (item.Estado == Estado.Plan_Pendiente || item.Estado == Estado.Plan_Desaprobado)
                                {@Html.ActionLink("Nuevo Plan", "Create", "PresentacionPlanes", new {id = item.IdPS}, null)
                                }else{<a href="#" style="color: grey">Nuevo Plan</a>}
                            </li>
                            <li class="divider"></li>
                                <li><a href="#">Mugre 2</a></li>
                                <li class="divider"></li>
                                <li><a href="#">Mugre 3</a></li>
                           
                        </ul>
</div>*@
                    @*<div class="btn-group">
                        <a href="#" class="btn btn-primary btn-sm">+Informe</a>
                        <a href="#" class="btn btn-primary btn-sm dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li>
                                @if (item.Estado == Estado.Plan_Aprobado || item.Estado == Estado.Informe_Desaprobado)
                                {@Html.ActionLink("Nuevo Informe", "Create", "PresentacionInformes", new {id = item.IdPS},null)
                                }else{<a href="#" style="color: grey">Nuevo Informe</a>}
                            </li>
                            <li class="divider"></li>
                        <li><a href="#">Mugre 2</a></li>
                        <li class="divider"></li>
                        <li><a href="#">Mugre 3</a></li>
                    </ul>
                </div>*@


                    @if (item.Estado == Estado.Plan_Pendiente || item.Estado == Estado.Plan_Desaprobado)
            {@Html.ActionLink("+Plan", "Create", "PresentacionPlanes", new { id = item.IdPS }, new { @class = "btn btn-primary btn-sm", @style = "color:white;font-size:13px;line-height:inherit;border-radius:5px;font-weight: 500" })}
                else{@Html.ActionLink("+Plan", "Create", "PresentacionPlanes", new { id = item.IdPS }, new { @class = "btn btn-primary btn-sm disabled", @style = "color:white;font-size:13px;line-height:inherit;border-radius:5px;font-weight: 500" })
                    }

                    @if (item.Estado == Estado.Plan_Aprobado || item.Estado == Estado.Informe_Desaprobado)
                {@Html.ActionLink("+Informe", "Create", "PresentacionInformes", new { id = item.IdPS }, new { @class = "btn btn-primary btn-sm", @style = "color:white;font-size:13px;line-height:inherit;border-radius:5px;font-weight: 500" })}
                    else
                    {@Html.ActionLink("+Informe", "Create", "PresentacionInformes", new { id = item.IdPS }, new { @class = "btn btn-primary btn-sm disabled", @style = "color:white;font-size:13px;line-height:inherit;border-radius:5px;font-weight: 500" })}




                    @Html.ActionLink("Detalles", "Details", new {id = item.IdPS}, new { @class = "btn btn-primary btn-sm", @style = "color:white;font-size:13px;line-height:inherit;border-radius:5px;font-weight: 500" }) 
                    @Html.ActionLink("Eliminar", "Delete", new {id = item.IdPS}, new { @class = "btn btn-primary btn-sm", @style = "color:white;font-size:13px;line-height:inherit;border-radius:5px;font-weight: 500" })
                </td>
            </tr>
        }
    </tbody>
</table>

@section scripts
{

    <script>
        $(document).ready(function() {

            $("#mitabla").DataTable({
                "language": {
                    "url": "/Scripts/DataTables/spanish.json"
                }
            });

          


        });
    </script>

  


}


