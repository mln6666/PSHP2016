@using WebApplication1.Models
@model IEnumerable<WebApplication1.Models.PS>

@{
    ViewBag.Title = "PSs";
}

<h2>PSs:</h2>

<p>
    @Html.ActionLink("Nueva PS", "Create")
</p>
<table class="table table-striped table-bordered ">
    <tr class="text-center" style="color: #2c3e50; background-color: lightblue">

        <th class="text-left" style="border-radius: 3px">
            @Html.DisplayNameFor(model => model.Alumno.Legajo)
        </th>
        <th class="text-left" style="border-radius: 3px">
            @Html.DisplayNameFor(model => model.Alumno.ApellidoAlu)
        </th>
        <th class="text-left" style="border-radius: 3px">
            @Html.DisplayNameFor(model => model.Alumno.NombreAlu)
        </th>
        <th class="text-left" style="border-radius: 3px">
            @Html.DisplayNameFor(model => model.NroDisposicion)
        </th>
        <th class="text-left" style="border-radius: 3px">
            @Html.DisplayNameFor(model => model.Area.NombreArea)
        </th>
        
        <th class="text-left" style="border-radius: 3px">
            @Html.DisplayNameFor(model => model.CicloLectivo)
        </th>
       
        <th class="text-left" style="border-radius: 3px">
            @Html.DisplayNameFor(model => model.Estado)
        </th>

    </tr>

@foreach (var item in Model) {
    <tr>
        <td class="text-left">
            @Html.DisplayFor(modelItem => item.Alumno.Legajo)
        </td>
        <td class="text-left">
            @Html.DisplayFor(modelItem => item.Alumno.ApellidoAlu)
        </td>
        <td class="text-left">
            @Html.DisplayFor(modelItem => item.Alumno.NombreAlu)
        </td>
        <td class="text-left">
            @Html.DisplayFor(modelItem => item.NroDisposicion)
        </td>
        <td class="text-left">
            @Html.DisplayFor(modelItem => item.Area.NombreArea)
        </td>
       
        <td class="text-left">
            @Html.DisplayFor(modelItem => item.CicloLectivo)
        </td>
       
        <td class="text-left" style="font-weight: bold; font-style: italic;">
            @Html.DisplayFor(modelItem => item.Estado)
        </td>
        <td class="text-left">
            @*@Html.ActionLink("Editar", "Edit", new {id = item.IdPS}) |*@

            @if(item.Estado == Estado.PlanPendiente || item.Estado == Estado.PlanRechazado)
            {@Html.ActionLink("Agregar Plan", "Create","PresentacionPlanes", new { id = item.IdPS }, new { @class = "btn btn-warning btn-sm", @style = "color:white;font-size:13px;line-height:inherit;border-radius:5px;font-weight: 500" })}else
            {@Html.ActionLink("Agregar Plan", "Create", "PresentacionPlanes", new { id = item.IdPS }, new { @class = "btn btn-warning btn-sm disabled", @style = "color:white;font-size:13px;line-height:inherit;border-radius:5px;font-weight: 500" })}
            @if(item.Estado==Estado.PlanAprobado || item.Estado == Estado.InformeRechazado) {
             @Html.ActionLink("Agregar Informe", "Create", "PresentacionInformes", new { id = item.IdPS }, new { @class = "btn btn-warning btn-sm", @style = "color:white;font-size:13px;line-height:inherit;border-radius:5px;font-weight: 500" })}
            else{@Html.ActionLink("Agregar Informe", "Create", "PresentacionInformes", new { id = item.IdPS }, new { @class = "btn btn-warning btn-sm disabled", @style = "color:white;font-size:13px;line-height:inherit;border-radius:5px;font-weight: 500" })}
            @Html.ActionLink("Detalles", "Details", new {id = item.IdPS}) |
            @Html.ActionLink("Eliminar", "Delete", new {id = item.IdPS})
        </td>
    </tr>
}

</table>
