@model WebApplication1.Models.PresentacionPlan
@{
	Layout = null;
}

<h2>Detalles Plan</h2>
<table class="table table-striped table-bordered ">
	<tr class="text-center" style="color: #2c3e50; background-color: lightblue">
		@*<th class="text-left" style="border-radius: 3px">
			@Html.DisplayNameFor(model => model.PS.Tutor)
		</th>*@
		<th class="text-left" style="border-radius: 3px">
			@*@Html.DisplayNameFor(model => model.FechaPresentacionPlan)*@Fecha Presentación
		</th>
		<th class="text-left" style="border-radius: 3px">
			@*@Html.DisplayNameFor(model => model.FechaEvaluacionPlan)*@Fecha Evaluación
		</th>
		<th class="text-left" style="border-radius: 3px">
			@*@Html.DisplayNameFor(model => model.EstadoEvaluacionPlan)*@Evaluación
		</th>
		<th class="text-left" style="border-radius: 3px;width: 350px">
			@*@Html.DisplayNameFor(model => model.ObservacionesPlan)*@Observaciones
		</th>
	</tr>
	<tr>
		@*<td class="text-left">
				@Html.DisplayFor(model => model.PS.Tutor)
			</td>*@
		<td class="text-left">
			@Html.DisplayFor(model => model.FechaPresentacionPlan)
		</td>
		<td class="text-left">
			@Html.DisplayFor(model => model.FechaEvaluacionPlan)
		</td>
		<td class="text-left" style="font-weight: bold; font-style: italic">
			@Html.DisplayFor(model => model.EstadoEvaluacionPlan)
		</td>
		<td class="text-left">
			@Html.DisplayFor(model => model.ObservacionesPlan)
		</td>
		<td class="text-left">
			@*@Html.ActionLink("Editar", "Edit", new { id = item.IdPresentacionPlan }) |
				@Html.ActionLink("Detalles", "Details", new { id = item.IdPresentacionPlan }) |
				@Html.ActionLink("Eliminar", "Delete", new { id = item.IdPresentacionPlan })*@
			@*@Html.ActionLink("Ver Historial Planes...", "HistorialPlanes", new { id = Model.IdPS })*@
			@Html.ActionLink("Historial Planes", "HistorialPlanes", new { id = Model.IdPS }, new { @class = "dialog-window2 btn btn-primary btn-sm" })

			@*@Ajax.ActionLink("Ver Historial Planes", "HistorialPlanes", new {id = Model.IdPS}, new AjaxOptions
			{
				InsertionMode = InsertionMode.Replace,
				UpdateTargetId = "histoplan",

			}
				)*@
		</td>
		<td class="text-left">@Html.ActionLink("Evaluar Plan", "EvaluarPlan", new {id = Model.IdPresentacionPlan}, new {@class = "dialog-window btn btn-primary btn-sm" })</td>
		<td class="text-left">@Html.ActionLink("Editar Plan", "Edit", new { id = Model.IdPresentacionPlan }, new { @class = "dialog-window btn btn-primary btn-sm" })</td>
</tr>

</table>
@*@Html.Action("EvaluarPlan", new { id = Model.IdPresentacionPlan })*@
<div id="histoplan"></div>
<div class="modal fade" id="myModal" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title"></h4>
            </div>
            <div class="modal-body">
                <div class="te">Espere...</div>
            </div>
            @*<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>*@
            @*<button type="submit" class="btn btn-primary">Save changes</button>*@
            @*</div>*@
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<div class="modal fade" id="myModal2" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content" style="margin-left: -30%;margin-right: -30%">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title"></h4>
            </div>
            <div class="modal-body">
                <div class="te">Espere...</div>
            </div>
            @*<div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>*@
            @*<button type="submit" class="btn btn-primary">Save changes</button>*@
            @*</div>*@
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>


<script>
	$(document).ready(function () {
		$("body").on("click", "a.dialog-window", null, function (e){
			e.preventDefault();

			var $link = $(this); // Reference to <a/> link
			var title = $link.text(); //this is title to fetch in htnl
			$('#myModal .modal-title').html(title);

			var url = $(this).attr('href');
			if (url.indexOf('#') == 0) {
				$('#myModal').modal('show');
			}
			else
			{
				$.get(url, function (data) {
					$('#myModal .te').html(data);
					$('#myModal').modal();
				}).success(function () { $('input:text:visible:first').focus(); });
			}
		});


		$("body").on("click", "a.dialog-window2", null, function (e) {
		    e.preventDefault();

		    var $link = $(this); // Reference to <a/> link
		    var title = $link.text(); //this is title to fetch in htnl
		    $('#myModal2 .modal-title').html(title);

		    var url = $(this).attr('href');
		    if (url.indexOf('#') == 0) {
		        $('#myModal2').modal('show');
		    }
		    else {
		        $.get(url, function (data) {
		            $('#myModal2 .te').html(data);
		            $('#myModal2').modal();
		        }).success(function () { $('input:text:visible:first').focus(); });
		    }
		});
	});
</script>



		
